<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free Demo Popup</title>

<!-- =========================
     CSS
========================= -->
<style>
body {
    font-family: Arial, sans-serif;
}

/* POPUP OVERLAY */
.demo-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

/* POPUP BOX */
.demo-popup {
    background: #fff;
    width: 100%;
    max-width: 450px;
    padding: 30px;
    border-radius: 10px;
    position: relative;
    animation: scaleIn 0.3s ease;
}

@keyframes scaleIn {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* CLOSE BUTTON */
.close-btn {
    position: absolute;
    top: 12px;
    right: 14px;
    font-size: 26px;
    background: none;
    border: none;
    cursor: pointer;
}

/* HEADINGS */
.demo-popup h2 span {
    color: #0891b2;
}

.subtitle {
    margin-bottom: 20px;
    color: #555;
}

/* FORM */
.form-group {
    margin-bottom: 14px;
}

input, select {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

/* BUTTON */
.btn-submit {
    width: 100%;
    padding: 12px;
    background: #0891b2;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

/* CAPTCHA GROUP */
.captcha-group {
    margin-top: 15px;
}

/* Checkbox row */
.captcha-row {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
}

/* Checkbox alignment */
.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
    cursor: pointer;
}

.checkbox-label input {
    width: 16px;
    height: 16px;
    margin: 0;
}

/* Captcha input row */
.captcha-input-row {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 12px;
    align-items: center;
}

/* Captcha text box */
#demoCaptchaText {
    padding: 10px 14px;
    background: #e0f2fe;
    border: 1px dashed #0891b2;
    font-weight: bold;
    letter-spacing: 4px;
    min-width: 90px;
    text-align: center;
    user-select: none;
}

/* Captcha input */
#demoCaptchaInput {
    width: 100%;
}

</style>
</head>

<body>

<!-- =========================
     FREE DEMO POPUP HTML
========================= -->
<div class="demo-overlay" id="demoOverlay">
    <div class="demo-popup">
        <button class="close-btn" onclick="closeDemo()">Ã—</button>

        <h2>Book a <span>Free Demo</span></h2>
        <p class="subtitle">Get a live demo session from our experts</p>

        <form id="demoForm">
            <div class="form-group">
                <label>Full Name *</label>
                <input type="text" name="fullName" required>
            </div>

            <div class="form-group">
                <label>Email *</label>
                <input type="email" name="email" required>
            </div>

            <div class="form-group">
                <label>Mobile *</label>
                <input type="tel" name="mobile" pattern="[0-9]{10}" required>
            </div>

            <div class="form-group">
                <label>Course Interested *</label>
                <select name="course" required>
                    <option value="">Select Course</option>
                    <option>Frontend / Fullstack</option>
                    <option>Python / Java</option>
                    <option>IT Support</option>
                    <option>Cloud Computing</option>
                    <option>Cyber Security</option>
                </select>
            </div>

            <div class="form-group">
                <label>Preferred Demo Time</label>
                <input type="text" name="demo_time" placeholder="Eg: Weekend Morning">
            </div>

            <!-- CAPTCHA -->
            <div class="form-group captcha-group">
    <div class="captcha-row">
        <label class="checkbox-label">
            <input type="checkbox" id="demoNotRobot">
            I am not a robot *
        </label>
    </div>

    <div class="captcha-row captcha-input-row">
        <span id="demoCaptchaText"></span>
        <input type="text"
               id="demoCaptchaInput"
               placeholder=""
               maxlength="6">
    </div>
</div>


            <button type="submit" id="demoSubmit" class="btn-submit">
                Book Free Demo
            </button>
        </form>
    </div>
</div>

<!-- =========================
     JS
========================= -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
/* EMAILJS INIT */
(function () {
    emailjs.init("hgiVlSTP2hpRaRqTh");
})();

/* CLOSE POPUP */
function closeDemo() {
    window.location.href = "index.html";
}

/* CAPTCHA GENERATION */
function generateCaptcha() {
    const nums = [];
    for (let i = 0; i < 6; i++) {
        nums.push(Math.floor(Math.random() * 10));
    }
    return nums;
}

let captchaNumbers = generateCaptcha();
const captchaText = document.getElementById("demoCaptchaText");
const captchaInput = document.getElementById("demoCaptchaInput");
const notRobot = document.getElementById("demoNotRobot");

captchaText.textContent = captchaNumbers.join(" ");

/* Restrict captcha input */
captchaInput.addEventListener("input", function () {
    this.value = this.value.replace(/\D/g, "").slice(0, 6);
});

/* FORM SUBMIT */
document.getElementById("demoForm").addEventListener("submit", function (e) {
    e.preventDefault();

    if (!notRobot.checked) {
        alert("Please confirm you are not a robot");
        return;
    }

    if (captchaInput.value !== captchaNumbers.join("")) {
        alert("Captcha incorrect. Please try again.");
        captchaNumbers = generateCaptcha();
        captchaText.textContent = captchaNumbers.join(" ");
        captchaInput.value = "";
        return;
    }

    const btn = document.getElementById("demoSubmit");
    btn.textContent = "Sending...";
    btn.disabled = true;

    emailjs.sendForm("service_f1pfvko", "template_2d88fc4", this)
        .then(() => {
            alert("Free demo booked successfully!");
            window.location.href = "index.html";
        })
        .catch(() => {
            alert("Error submitting form. Please try again.");
            btn.disabled = false;
            btn.textContent = "Book Free Demo";
        });
});
</script>

</body>
</html>
